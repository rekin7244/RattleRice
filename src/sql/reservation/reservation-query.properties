reservation=SELECT M_ID, COUNT, PRICE, R_TIME, M_NAME FROM( SELECT M_ID M_ID, COUNT COUNT,PRICE*COUNT PRICE, R_TIME R_TIME, M_NAME FROM (SELECT R.RNO, R.M_ID, M.M_NAME FROM ROOM_RECORD R JOIN MEMBER M ON(M.M_ID = R.M_ID) WHERE TYPE = 'MASTER' ) JOIN (SELECT COUNT(*) COUNT, RNO FROM ROOM_RECORD GROUP BY RNO) USING (RNO) JOIN (SELECT DISTINCT RNO, R_TIME, S_CODE, PRICE FROM RESERVATION) USING (RNO) WHERE S_CODE = (SELECT S.S_CODE FROM MEMBER M JOIN STORE S ON(M.M_ID = S.B_ID) WHERE M.M_ID = ? ) ORDER BY R_TIME ) 