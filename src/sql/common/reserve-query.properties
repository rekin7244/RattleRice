reserveSettleListCount=SELECT COUNT(*) FROM (SELECT sum(r.price) sum, brand, s.s_id, r.status FROM reservation r, store s where r.s_id = s.s_id and r.status='Y' group by brand,s.s_id,r.status UNION SELECT sum(r.price), brand, s.s_id, r.status FROM reservation r, store s where r.s_id = s.s_id and r.status='N' group by brand,s.s_id,r.status)
reserveSettleList=SELECT * FROM (SELECT ROWNUM RNUM, sum, brand, s_id, status FROM (SELECT * FROM (SELECT sum(r.price) sum, brand, s.s_id, r.status FROM reservation r, store s where r.s_id = s.s_id and r.status='Y' group by brand,s.s_id,r.status UNION SELECT sum(r.price), brand, s.s_id, r.status FROM reservation r, store s where r.s_id = s.s_id and r.status='N' group by brand,s.s_id,r.status) ORDER BY STATUS DESC)) WHERE RNUM BETWEEN ? AND ?